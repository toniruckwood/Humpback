"use strict";var humpback={supported:!1,vendorPrefix:"",filterGroup:{},normalize:function(e){return e=e.replace(/\s+/g," "),e=e.replace(/ \(/g,"("),e=e.replace(/^ ?(.*?) ?$/,"$1").toLowerCase(),e=e.replace(/\-(?:moz|ms|o|webkit)\-/g,"")},valid:function(e){var l,i,t=e.split(" "),r=0;for(l=0,i=t.length;i>l;l+=1)if(/^(?:blur|brightness|contrast|grayscale|hue\-rotate|invert|opacity|saturate|sepia)\([0-9\.]+ ?(?:%|deg|px)?\)$/.test(t[l]))r+=1;else if(/^drop-shadow\([a-z0-9\.\(\)#,%]*\)$/.test(t[l]))r+=1;else{if(!/^url\([a-z0-9\-\._~\:\/\?#\[\]@\!\$&'\(\)\*\+,;=%]+\)$/.test(t[l]))return!1;r+=1}return r<t.length?!1:!0},group:function(e,t){e=e.replace(/[^a-z0-9\-]/gi,""),t=humpback.normalize(t),humpback.valid(t)&&(humpback.filterGroup[e]=t)},filter:function(e,t){var i,a,r,u,r=humpback.normalize(t),l=document.querySelectorAll(e);for(-1===r.indexOf("(")&&(r=humpback.filterGroup[r]),i=0,a=l.length;a>i;i+=1)r=humpback.vendorPrefix+"filter:"+r,u=l[i].getAttribute("style"),null!==u?(humpback.remove(e),u=l[i].getAttribute("style")+" "):u="",l[i].setAttribute("style",u+r)},remove:function(e){var r,l,i,a,t=document.querySelectorAll(e);for(r=0,l=t.length;l>r;r+=1)i=t[r].getAttribute("style"),"undefined"!==i&&(a=humpback.vendorPrefix+"filter:",i=i.replace(a,""),i=i.replace(/(?:blur|brightness|contrast|drop\-shadow|grayscale|hue\-rotate|invert|opacity|saturate|sepia|url) ?\(.*?\);?/g,""),i=i.replace(/ {2,}/," "),t[r].setAttribute("style",i))},init:function(){var e=document.getElementsByTagName("html")[0],t=document.createElement("span");t.id="filterTest",t.style.filter="grayscale(1)",t.style.webkitFilter="grayscale(1)",e.appendChild(t),"none"!==window.getComputedStyle(t).filter?humpback.supported=!0:"none"!==window.getComputedStyle(t).webkitFilter&&(humpback.supported=!0,humpback.vendorPrefix="-webkit-"),e.removeChild(t)}};